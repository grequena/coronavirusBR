---
title: "Coronav√≠rus"
output: 
  flexdashboard::flex_dashboard:
    theme: default
    css: style.css
    source_code: embed
    vertical_layout: scroll
markdown_extensions: 
    - admonition
editor_options: 
  chunk_output_type: console
knit: (function(input_file, encoding) {
  out_dir <- 'docs';
  rmarkdown::render(input_file, encoding=encoding,
  output_file=file.path(dirname(input_file), out_dir, 'index.html'))})
---


```{r, include=FALSE}
knitr::opts_chunk$set(warning=FALSE, message=FALSE)
```


```{r, include=FALSE}
#_______________________________________________________________________________
#_______________________________________________________________________________
#---------------------------------------------------Loading package and data----
#_______________________________________________________________________Packages
library(flexdashboard)
# library(tidyverse)
# library(shiny)
# library(plotly)
# library(countrycode)
# library(lubridate)
# library(dplyr)
# library(magrittr)
# library(hrbrthemes)
# library(viridis)
# library(ggplot2)
# library(ggiraph)
#_____________________________________________________________________Parameters
# - Set colors
confirmed_color <- rgb(20, 120, 190, maxColorValue = 255)
death_color     <- rgb(220, 40, 40,  maxColorValue = 255, alpha = 230)
recovered_color <- rgb(10, 120, 10,  maxColorValue = 255, alpha = 230)
confirmed_colorT <- rgb(20, 120, 190, maxColorValue = 255, alpha = 190)
death_colorT     <- rgb(220, 40, 40,  maxColorValue = 255, alpha = 190)
recovered_colorT <- rgb(10, 120, 10,  maxColorValue = 255, alpha = 190)
confirmed_colorTT <- rgb(20, 120, 190, maxColorValue = 255, alpha = 75)
death_colorTT     <- rgb(220, 40, 40,  maxColorValue = 255, alpha = 75)
recovered_colorTT <- rgb(10, 120, 10,  maxColorValue = 255, alpha = 75)
# - Use %>% directly
`%>%` <- magrittr::`%>%` 
#_________________________________________________________________________Data 1
# install.packages("devtools")
# devtools::install_github("RamiKrispin/coronavirus")
# coronavirus::update_datasets(silence = TRUE)
# library(coronavirus)
# data(coronavirus)
# max(coronavirus$date)
#_______________________________________________________________Data 2 cumulated
# - Confirmed cases in wide format
d.con <- read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv"))
# - Recovered
d.rec <- read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv"))
# - Death
d.dea <- read.csv(url("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv"))
# - Confirmed cases in long format
d.con.long <- reshape(data      = d.con,
                      varying   = names(d.con)[5:ncol(d.con)],
                      v.names   = 'cases',
                      times     = names(d.con)[5:ncol(d.con)],
                      direction = 'long') %>% 
  dplyr::mutate(date = lubridate::mdy(stringr::str_replace_all(time, 'X', '')),
                type = rep('confirmed', (ncol(d.con)-4)*nrow(d.con))) %>% 
  dplyr::select(1, 2, 3, 4, 6, 7, 8, 9)
# - Recovered
d.rec.long <- reshape(data      = d.rec,
                      varying   = names(d.rec)[5:ncol(d.rec)],
                      v.names   = 'cases',
                      times     = names(d.rec)[5:ncol(d.rec)],
                      direction = 'long') %>% 
  dplyr::mutate(date = lubridate::mdy(stringr::str_replace_all(time, 'X', '')),
                type = rep('recovered', (ncol(d.rec)-4)*nrow(d.rec))) %>% 
  dplyr::select(1, 2, 3, 4, 6, 7, 8, 9)
# - Death
d.dea.long <- reshape(data      = d.dea,
                      varying   = names(d.dea)[5:ncol(d.dea)],
                      v.names   = 'cases',
                      times     = names(d.dea)[5:ncol(d.dea)],
                      direction = 'long') %>% 
  dplyr::mutate(date = lubridate::mdy(stringr::str_replace_all(time, 'X', '')),
                type = rep('death', (ncol(d.dea)-4)*nrow(d.dea))) %>% 
  dplyr::select(1, 2, 3, 4, 6, 7, 8, 9)
# - Cumulative final data in long format
covid.cum <- rbind(d.con.long, d.rec.long, d.dea.long)
#___________________________________________________________________Data 3 daily
# - Daily cases by type in wide format
d.con.daily <- cbind(d.con[, 1:5], # first day, today - yesterday
                     d.con[, 6:ncol(d.con)] - d.con[, 5:(ncol(d.con)-1)])
d.rec.daily <- cbind(d.rec[, 1:5], 
                     d.rec[, 6:ncol(d.rec)] - d.rec[, 5:(ncol(d.rec)-1)])
d.dea.daily <- cbind(d.dea[, 1:5], 
                     d.dea[, 6:ncol(d.dea)] - d.dea[, 5:(ncol(d.dea)-1)])
# - Confirmed cases in long format
d.con.daily.l <- reshape(data      = d.con.daily,
                         varying   = names(d.con.daily)[5:ncol(d.con.daily)],
                         v.names   = 'cases',
                         times     = names(d.con.daily)[5:ncol(d.con.daily)],
                         direction = 'long') %>% 
  dplyr::mutate(date = lubridate::mdy(stringr::str_replace_all(time, 'X', '')),
                type = rep('confirmed', 
                           (ncol(d.con.daily)-4)*nrow(d.con.daily))) %>%
  dplyr::select(1, 2, 3, 4, 6, 7, 8, 9)
# - Recovered
d.rec.daily.l <- reshape(data      = d.rec.daily,
                         varying   = names(d.rec.daily)[5:ncol(d.rec.daily)],
                         v.names   = 'cases',
                         times     = names(d.rec.daily)[5:ncol(d.rec.daily)],
                         direction = 'long') %>% 
  dplyr::mutate(date = lubridate::mdy(stringr::str_replace_all(time, 'X', '')),
                type = rep('recovered', 
                           (ncol(d.rec.daily)-4)*nrow(d.rec.daily))) %>%
  dplyr::select(1, 2, 3, 4, 6, 7, 8, 9)
# - Death
d.dea.daily.l <- reshape(data      = d.dea.daily,
                         varying   = names(d.dea.daily)[5:ncol(d.dea.daily)],
                         v.names   = 'cases',
                         times     = names(d.dea.daily)[5:ncol(d.dea.daily)],
                         direction = 'long') %>% 
  dplyr::mutate(date = lubridate::mdy(stringr::str_replace_all(time, 'X', '')),
                type = rep('death', 
                           (ncol(d.dea.daily)-4)*nrow(d.dea.daily))) %>% 
  dplyr::select(1, 2, 3, 4, 6, 7, 8, 9)
# - Daily final data long
coronavirus <- rbind(d.con.daily.l, d.rec.daily.l, d.dea.daily.l)
# - Check if data is updated
# max(coronavirus$date)
#___________________________________________________________Data 4 BR por Estado
# dbr.munic <- 
#   read.csv(url("https://brasil.io/dataset/covid19/caso?format=csv")) %>% 
#   dplyr::mutate(date = as.Date(date))
# 
# dbr.estado <- dbr.munic %>% 
#   dplyr::filter(place_type == "state") %>% 
#   dplyr::select(-city)
#_______________________________________________________________________________
#_______________________________________________________________________________
#----------------------------------------------------------Data manipulation----
#_________________________________________________________________________Brazil
# - Total number of cases in BR (sum for all dates)
dfBR <- coronavirus %>%
  dplyr::filter(Country.Region == "Brazil") %>%
  dplyr::group_by(Country.Region, type) %>%
  dplyr::summarise(total = sum(cases)) %>%
  tidyr::pivot_wider(names_from = type, values_from = total)
# - Daily cases in BR (cases per date)
df_dailyBR <- coronavirus %>%
  dplyr::filter(Country.Region == "Brazil") %>%
  dplyr::group_by(date, type) %>%
  dplyr::summarise(total = sum(cases, na.rm = TRUE)) %>%
  tidyr::pivot_wider(names_from = type,
                     values_from = total) %>%
  dplyr::arrange(date) %>%
  dplyr::ungroup() %>%
  dplyr::mutate(confirmed_cum = cumsum(confirmed),
                death_cum = cumsum(death),
                recovered_cum = cumsum(recovered))
#__________________________________________________________________________World
# - Total cases by country (sum for all dates)
df <- coronavirus %>%
  dplyr::group_by(Country.Region, type) %>%
  dplyr::summarise(total = sum(cases)) %>%
  tidyr::pivot_wider(names_from = type, values_from = total) %>%
  dplyr::arrange(-confirmed)
# - Daily cases in world (sum for all countries)
df_daily <- coronavirus %>%
  dplyr::group_by(date, type) %>%
  dplyr::summarise(total = sum(cases, na.rm = TRUE)) %>%
  tidyr::pivot_wider(names_from = type,
                     values_from = total) %>%
  dplyr::arrange(date) %>%
  dplyr::ungroup() %>%
  dplyr::mutate(confirmed_cum = cumsum(confirmed),
                death_cum = cumsum(death),
                recovered_cum = cumsum(recovered))
# - Daily cases by country
df_pais <- coronavirus %>%
  dplyr::group_by(Country.Region, date, type) %>%
  dplyr::summarise(total = sum(cases)) %>%
  tidyr::pivot_wider(names_from = type, values_from = total) %>%
  dplyr::arrange(date) %>%
  dplyr::ungroup() %>% 
  dplyr::group_by(Country.Region) %>%
  dplyr::mutate(confirmed_cum = cumsum(confirmed),
                death_cum = cumsum(death),
                recovered_cum = cumsum(recovered))
#_____________________________________________________________Daily by continent
# - Vector with all countries to extract `continent`
country <- as.character(levels(coronavirus$Country.Region))
country[country == "Kosovo"] <- "Russia" #so the function below results "Europe"
country[country == "Diamond Princess"] <- "Japan" #ship was in Yokohama port
#                                                  counts for "Asia", not Japan
country[country == "MS Zaandam"] <- "US" #more complicated but it's in "America" 
# - Continent from the vector country
continent <- countrycode::countrycode(sourcevar = country, 
                                      origin = "country.name",
                                      destination = "continent")
# - Data
df_cont <- df_pais
levels(df_cont$Country.Region) <- continent #now `Country.Region` is `continent`
df_cont <- df_cont %>% 
  dplyr::group_by(Country.Region, date) %>%
  dplyr::summarise(confirmed = sum(confirmed,na.rm = T), #by continent and date
                   recovered = sum(recovered,na.rm = T),
                   death = sum(death,na.rm = T)) %>% 
  dplyr::arrange(date)  %>% 
  dplyr::mutate(confirmed_cum = cumsum(confirmed), #still by continent and date
                death_cum = cumsum(death),
                recovered_cum = cumsum(recovered)) %>% 
  dplyr::ungroup()
df_cont$continent <- df_cont$Country.Region #create the variable continent
#_____________________________________________________________________Por estado
# brasil.io
```




<!-- _______________________________________________________________________ -->
Resumo {data-orientation=rows}
================================================================================
<!-- _______________________________________________________________________ -->

Row valueBox CONFIRMADOS {data-heigth=150}
--------------------------------------------------------------------------------

### confirmed {.value-box}

```{r}
flexdashboard::valueBox(
  value = format(dfBR$confirmed, big.mark = ".", decimal.mark = ","),
  caption = paste("Confirmados no <B>BRASIL</B> ‚Ä¢ ",
                  as.character.POSIXt(max(coronavirus$date), 
                                      format = "%d/%m/%Y")), 
  icon = "fas fa-diagnoses",
  color = confirmed_color
)
```


### confirmed {.value-box}

```{r}
flexdashboard::valueBox(
  value = paste(format(sum(df$confirmed), big.mark = ".", decimal.mark = ",")),
  caption = paste("Confirmados no <B>MUNDO</B> ‚Ä¢ ",
                  as.character.POSIXt(max(coronavirus$date),
                                      format = "%d/%m/%Y")),
  icon = "fas fa-diagnoses",
  color = confirmed_color
)
```

Row valueBox RECUPERADOS {data-heigth=150}
--------------------------------------------------------------------------------

### recovered {.value-box}

```{r}
flexdashboard::valueBox(
  value = paste(format(dfBR$recovered, big.mark = ".", decimal.mark = ","), 
                " (",
                format(round(100 * (dfBR$recovered / dfBR$confirmed), 1),
                       big.mark = ".", decimal.mark = ","), 
                "%)", sep = ""),
  caption = "Recuperados no <B>BRASIL</B>",
  icon = "fas fa-user-check",
  color = recovered_color
)
```

### recovered {.value-box}

```{r}
flexdashboard::valueBox(
  value = paste(format(sum(df$recovered, na.rm = TRUE),
                       big.mark = ".", decimal.mark = ","),
                " (", format(round(100 * sum(df$recovered, na.rm = TRUE) /
                                     sum(df$confirmed), 1),
                             big.mark = ".", decimal.mark = ","),
                "%)", sep = ""),
  caption = "Recuperados no <B>MUNDO</B>",
  icon = "fas fa-user-check",
  color = recovered_color
)
```

Row valueBox MORTES {data-heigth=150}
--------------------------------------------------------------------------------

### death {.value-box}

```{r}
flexdashboard::valueBox(
  value = paste(format(dfBR$death, big.mark = ".", decimal.mark = ","), 
                " (",
                format(round(100 * (dfBR$death / dfBR$confirmed), 1),
                       big.mark = ".", decimal.mark = ","), 
                "%)", sep = ""),
  caption = "Mortes no <B>BRASIL</B>",
  icon = "fas fa-user-times",
  color = death_color
)
```

### death {.value-box}

```{r}
flexdashboard::valueBox(
  value = paste(format(sum(df$death, na.rm = TRUE),
                       big.mark = ".", decimal.mark = ","),
                " (", format(round(100 * sum(df$death, na.rm = TRUE) /
                                     sum(df$confirmed), 1),
                             big.mark = ".", decimal.mark = ","),
                "%)", sep = ""),
  caption = "Mortes no <B>MUNDO</B>",
  icon = "fas fa-user-times",
  color = death_color
)
```

Row CHARTS CUMULATIVE FREQ {data-orientation=rows data-heigth=350}
--------------------------------------------------------------------------------

### **Evolu√ß√£o no BRASIL desde 25/02/2020**

```{r}
plotly::plot_ly(data = df_dailyBR %>% 
                  dplyr::filter(date > "2020-02-24")) %>%
  plotly::add_trace(x = ~date,
                    y = ~confirmed_cum,
                    type = "scatter",
                    mode = "lines+markers",
                    name = "Confirmados",
                    line = list(color = confirmed_color),
                    marker = list(color = confirmed_color)) %>%
  plotly::add_trace(x = ~date,
                    y = ~recovered_cum,
                    type = "scatter",
                    mode = "lines+markers",
                    name = "Recuperados",
                    opacity = 0.85,
                    line = list(color = recovered_color),
                    marker = list(color = recovered_color)) %>%
  plotly::add_trace(x = ~date,
                    y = ~death_cum,
                    type = "scatter",
                    mode = "lines+markers",
                    name = "Mortes",
                    opacity = 0.85,
                    line = list(color = death_color),
                    marker = list(color = death_color)) %>%
  plotly::add_annotations(x = as.Date("2020-02-26"),
                          y = 1,
                          text = paste("Primeiro caso"),
                          xref = "x",
                          yref = "y",
                          arrowhead = 5,
                          arrowhead = 5,
                          arrowsize = 1,
                          showarrow = TRUE,
                          ax = 0,
                          ay = -90) %>%
  plotly::add_annotations(x = as.Date("2020-03-17"),
                          y = 3,
                          text = paste("Primeira morte"),
                          xref = "x",
                          yref = "y",
                          arrowhead = 5,
                          arrowhead = 3,
                          arrowsize = 1,
                          showarrow = TRUE,
                          ax = 0,
                          ay = -90) %>%
  plotly::layout(title = "",
                 yaxis = list(title = "Frequ√™ncia acumulada de casos"),
                 xaxis = list(title = ""),
                 legend = list(x = 0.1, y = 0.9),
                 hovermode = "compare")
```

### **Evolu√ß√£o no MUNDO desde 22/01/2020**

```{r}
plotly::plot_ly(data = df_daily) %>%
  plotly::add_trace(x = ~date,
                    y = ~confirmed_cum,
                    type = "scatter",
                    mode = "lines+markers",
                    name = "Confirmados",
                    marker = list(color = confirmed_color, 
                                  symbol = 'circle'),
                    line = list(color = confirmed_color)) %>%
  plotly::add_trace(x = ~date,
                    y = ~recovered_cum,
                    type = "scatter",
                    mode = "lines+markers",
                    name = "Recuperados",
                    opacity = 0.85,
                    line = list(color = recovered_color),
                    marker = list(color = recovered_color)) %>%
  plotly::add_trace(x = ~date,
                    y = ~death_cum,
                    type = "scatter",
                    mode = "lines+markers",
                    name = "Mortes",
                    opacity = 0.85,
                    line = list(color = death_color),
                    marker = list(color = death_color)) %>%
  plotly::layout(title = "",
                 yaxis = list(title = "N√∫mero de casos acumulado"),
                 xaxis = list(title = ""),
                 legend = list(x = 0.1, y = 0.9),
                 hovermode = "compare")
```

Row CHARTS ABS FREQ {data-heigth=350 data-orientation=rows}
--------------------------------------------------------------------------------

### **Casos di√°rios no BRASIL desde 25/02/2020**

```{r}
plotly::plot_ly(data = df_dailyBR %>% 
                  dplyr::filter(date > "2020-02-24"), 
                x = ~ date, 
                y = ~ confirmed, 
                type = "bar", 
                name = "Confirmados",
                marker = list(color = confirmed_color)) %>%
  plotly::add_trace(y = ~ recovered, 
                    name = "Recuperados",
                    marker = list(color = recovered_color)) %>%
  plotly::add_trace(y = ~ death, 
                    name = "Mortes",
                    marker = list(color = death_color)) %>%
  plotly::layout(barmode = 'overlay',
                 yaxis = list(title = "N√∫mero de casos"),
                 xaxis = list(title = ""),
                 legend = list(x = 0.1, y = 0.9),
                 hovermode = "compare")
```

### **Casos di√°rios no MUNDO desde 22/01/2020**

```{r}
plotly::plot_ly(data = df_daily, 
                x = ~ date, 
                y = ~ confirmed, 
                type = "bar", 
                name = "Confirmados",
                marker = list(color = confirmed_color)) %>%
  plotly::add_trace(y = ~ recovered, 
                    name = "Recuperados",
                    marker = list(color = recovered_color)) %>%
  plotly::add_trace(y = ~ death, 
                    name = "Mortes",
                    marker = list(color = death_color)) %>%
  plotly::layout(barmode = 'overlay',
                 yaxis = list(title = "N√∫mero de casos"),
                 xaxis = list(title = ""),
                 legend = list(x = 0.1, y = 0.9),
                 hovermode = "compare")
```





Continentes {data-orientation=rows data-navmenu="Mundo" data-vertical_layout=fill}
================================================================================

<!-- Two tabs {.tabset} -->
<!-- ------------------ -->

Row {data-height=300}
--------------------------------------------------------------------------------

### 

```{r}
dfshow <- df_cont %>% 
  dplyr::group_by(continent) %>% 
  dplyr::summarise(Confirmados = sum(confirmed), 
                   Recuperados = sum(recovered),
                   Mortes = sum(death)) %>% 
  tidyr::pivot_longer(cols = c(continent), values_to = "Continente") %>% 
  dplyr::select(5, 1, 2, 3) %>% 
  dplyr::arrange(-Confirmados) %>% 
  dplyr::mutate(
    `Taxa de<br>Recupera√ß√£o` = 
        paste0(
          format(
            round(100*Recuperados/Confirmados, 1),
            decimal.mark = ",", big.mark = "."
          ),
          "%"
        ),
    `Taxa de<br>Mortalidade` = 
      paste0(
        format(
          round(100*Mortes/Confirmados, 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ),
    `%C` = 
      paste0(
        format(
          round(100*Confirmados/sum(Confirmados), 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ),
    `%R` = 
      paste0(
        format(
          round(100*Recuperados/sum(Recuperados), 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ),      
    `%M` = 
      paste0(
        format(
          round(100*Mortes/sum(Mortes), 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ), 
  ) %>% 
  dplyr::select(1,2,3,5,4,6)

sketch <- htmltools::withTags(
  table(
    DT::tableHeader(c(" ",colnames(dfshow)),# " " for rownames=T works properly
                    escape = F),# escape = F for html code
    DT::tableFooter(
      list("", "Total", # " " for rownames=T works properly
           sum(df$confirmed),# "100%",
           sum(df$recovered),# "100%",
           paste0(
             format(
               round(100*sum(df$recovered)/sum(df$confirmed), 1), 
               decimal.mark = ","),
             "%"),
           sum(df$death),# "100%",
           paste0(
             format(
               round(100*sum(df$death)/sum(df$confirmed), 1), 
               decimal.mark = ","),
             "%")
      )
    )
  )
)

DT::datatable(dfshow, 
              options = list(
                dom = "t",
                columnDefs = list(list(className = 'dt-center', 
                                       targets = "_all")),
                lengthChange = FALSE
              ),
              escape = F,
              container = sketch,
) 
  # DT::formatStyle(c(2, 3), backgroundColor = confirmed_colorTT) %>% 
  # DT::formatStyle(c(4, 5, 6), backgroundColor = recovered_colorTT) %>% 
  # DT::formatStyle(c(7, 8, 9), backgroundColor = death_colorTT)
#target = "row",
# backgroundColor = DT::styleEqual(
# dfshow$`Pa√≠s/Regi√£o`[1:m],
# viridis::viridis(7, option = "A", alpha = .4)))
```

> Legenda: 
Taxa de recupera√ß√£o $= \frac{Recuperados}{Confirmados}$, 
Taxa de mortalidade $= \frac{Mortes}{Confirmados}$.

Row {data-height=300}
--------------------------------------------------------------------------------

###

```{r}
dfshow <- df_cont %>% 
  dplyr::group_by(continent) %>% 
  dplyr::summarise(confirmed = sum(confirmed), 
                   recovered = sum(recovered),
                   death = sum(death)) %>% 
  tidyr::pivot_longer(cols = c(continent), values_to = "continent") %>% 
  dplyr::select(5, 1, 2, 3) %>% 
  dplyr::arrange(-confirmed)
dfshow$continent <- factor(dfshow$continent, levels = dfshow$continent)

plotly::plot_ly(data = dfshow, 
                x = ~ continent, 
                y = ~ confirmed, 
                type = "bar", 
                name = "Confirmados",
                marker = list(color = confirmed_colorT)) %>%
  plotly::add_trace(y = ~ recovered, 
                    name = "Recuperados",
                    marker = list(color = recovered_colorT)) %>%
  plotly::add_trace(y = ~ death, 
                    name = "Mortes",
                    marker = list(color = death_colorT)) %>%
  plotly::layout(barmode = 'group',
                 yaxis = list(title = "N√∫mero de casos"),
                 xaxis = list(title = ""),
                 legend = list(x = 0.8, y = 0.9),
                 hovermode = "compare")
```

Row {data-height=350}
--------------------------------------------------------------------------------

<!-- ___________________________________________________________________________
                                                 Chart Stacked area by continent
____________________________________________________________________________ -->

### **<span style="color: #1478BE;">CONFIRMADOS</span>**

```{r}
df_cont$continent <- factor(df_cont$continent, levels = c("Oceania", "Africa",
                                                          "Americas", "Europe",
                                                          "Asia"))
total <- df_cont %>% 
  dplyr::group_by(continent) %>% 
  dplyr::summarise(con=sum(confirmed),
                   rec=sum(recovered),
                   dea=sum(death))
maxdate <- max(df_cont$date)
fig <- df_cont %>% 
  ggplot2::ggplot(ggplot2::aes(x = date, y = confirmed_cum, fill = continent)) +
  ggplot2::geom_area(alpha=0.7 , size=.7, colour="black") +
  viridis::scale_fill_viridis(discrete = T, name = " ", option = "D") +
  ggplot2::ylab("Frequ√™ncia acumulada")+
  ggplot2::xlab("")+
  ggplot2::scale_y_continuous(labels = function(x) format(x, scientific = F))+
  ggplot2::theme_bw(base_size=20)+
  ggplot2::theme(panel.border     = ggplot2::element_blank(),
                 panel.background = ggplot2::element_blank(),
                 legend.position  = c(0.2, 0.65),
                 axis.text        = ggplot2::element_text(size=12),
                 axis.title       = ggplot2::element_text(size=15))
fig


```

### **<span style="color:#0A780AE6">RECUPERADOS</span>**

```{r}
fig <- df_cont %>% 
  ggplot2::ggplot(ggplot2::aes(x = date, y = recovered_cum, fill = continent,
                               tooltip = recovered_cum)) +
  ggplot2::geom_area(alpha=0.7 , size=.7, colour="black") +
  viridis::scale_fill_viridis(discrete = T, name = " ", option = "D") +
  ggplot2::ylab("")+
  ggplot2::xlab("")+
  ggplot2::scale_y_continuous(labels = function(x) format(x, scientific = F))+
  ggplot2::theme_bw(base_size=20)+
  ggplot2::theme(panel.border     = ggplot2::element_blank(),
                 panel.background = ggplot2::element_blank(),
                 legend.position  = c(0.2, 0.65),
                 axis.text        = ggplot2::element_text(size=12),
                 axis.title       = ggplot2::element_text(size=15))
fig
```

### **<span style="color:#DC2828E6">MORTES</span>**

```{r}
fig <- df_cont %>% 
  ggplot2::ggplot(ggplot2::aes(x = date, y = death_cum, fill = continent)) +
  ggplot2::geom_area(alpha=0.7 , size=.7, colour="black") +
  viridis::scale_fill_viridis(discrete = T, name = " ", option = "D") +
  ggplot2::ylab("")+
  ggplot2::xlab("")+
  ggplot2::scale_y_continuous(labels = function(x) format(x, scientific = F))+
  ggplot2::theme_bw(base_size=20)+
  ggplot2::theme(panel.border     = ggplot2::element_blank(),
                 panel.background = ggplot2::element_blank(),
                 legend.position  = c(0.2, 0.65),
                 axis.text        = ggplot2::element_text(size=12),
                 axis.title       = ggplot2::element_text(size=15))
fig
```

Pa√≠ses mais afetados {data-orientation=rows data-navmenu="Mundo"}
================================================================================

Row {data-height=600}
--------------------------------------------------------------------------------

### 

```{r}
dfshow <- df %>% 
  dplyr::group_by(Country.Region) %>% 
  dplyr::mutate(
    `Taxa de<br>Recupera√ß√£o` = 
        paste0(
          format(
            round(100*recovered/confirmed, 1),
            decimal.mark = ",", big.mark = "."
          ),
          "%"
        ),
    `Taxa de<br>Mortalidade` = 
      paste0(
        format(
          round(100*death/confirmed, 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ),
    `%C` = 
      paste0(
        format(
          round(100*confirmed/sum(df$confirmed), 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ),
    `%R` = 
      paste0(
        format(
          round(100*recovered/sum(df$recovered), 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ),      
    `%M` = 
      paste0(
        format(
          round(100*death/sum(df$death), 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ), 
  ) %>% 
  dplyr::select(1, 2, 4, 5, 3, 6)
# dfshow$Country.Region <- factor(dfshow$Country.Region, 
#                                 levels = dfshow$Country.Region)

names(dfshow)[1] <- "Pa√≠s/Regi√£o"
names(dfshow)[2] <- "Confirmados"
names(dfshow)[3] <- "Recuperados"
names(dfshow)[5] <- "Mortes"

DT::datatable(dfshow, 
              options = list(
                columnDefs = list(list(className = 'dt-center', 
                                       targets = "_all")),
                lengthChange = FALSE),
              escape = F) 
  # DT::formatStyle(c(2, 3), backgroundColor = confirmed_colorTT) %>% 
  # DT::formatStyle(c(4, 5, 6), backgroundColor = recovered_colorTT) %>% 
  # DT::formatStyle(c(7, 8, 9), backgroundColor = death_colorTT)
# DT::formatStyle("Pa√≠s/Regi√£o", target = "row",
#                 backgroundColor = DT::styleEqual(
#                   dfshow$`Pa√≠s/Regi√£o`[1:m],
#                   viridis::viridis(7, option = "A", alpha = .4)))
```

> Legenda: 
Taxa de recupera√ß√£o $= \frac{Recuperados}{Confirmados}$, 
Taxa de mortalidade $= \frac{Mortes}{Confirmados}$.

Row {data-height=300}
--------------------------------------------------------------------------------

###

```{r}
m <- 10
dfshow <- df
dfshow$Country.Region <- factor(dfshow$Country.Region, 
                                levels = dfshow$Country.Region)

plotly::plot_ly(data = dfshow[1:m, ], 
                x = ~ Country.Region, 
                y = ~ confirmed, 
                type = "bar", 
                name = "Confirmados",
                marker = list(color = confirmed_colorT)) %>%
  plotly::add_trace(y = ~ recovered, 
                    name = "Recuperados",
                    marker = list(color = recovered_colorT)) %>%
  plotly::add_trace(y = ~ death, 
                    name = "Mortes",
                    marker = list(color = death_colorT)) %>%
  plotly::layout(barmode = 'group',
                 yaxis = list(title = "N√∫mero de casos"),
                 xaxis = list(title = ""),
                 legend = list(x = 0.8, y = 0.9),
                 hovermode = "compare")
```


Row {data-height=350}
--------------------------------------------------------------------------------

<!-- ___________________________________________________________________________
                                            Chart Stacked area m first countries
____________________________________________________________________________ -->

### **<span style="color: #1478BE;">CONFIRMADOS</span>**

```{r}
m <- 7
country <- c(as.character(df$Country.Region[1:m]))

country_ordem <- df_pais %>% 
  dplyr::group_by(Country.Region) %>% 
  dplyr::summarise(ordem = sum(confirmed_cum)) %>% 
  dplyr::arrange(-ordem) %>% 
  dplyr::select(Country.Region)
country_ordem <- data.frame(country_ordem)[, 1]

df_mpaises <- df_pais %>% 
  dplyr::filter(Country.Region %in% country) %>%
  dplyr::arrange(date)

df_mpaises$Country.Region <- factor(df_mpaises$Country.Region, 
                                    levels = c("US", "France", "Germany",
                                    "Spain", "Italy",
                                    "Iran", "China"))
                                      
fig <- df_mpaises %>% 
  ggplot2::ggplot(ggplot2::aes(x = date, 
                               y = confirmed_cum, 
                               fill = Country.Region)) +
  ggplot2::geom_area(alpha=0.7 , size=.7, colour="black") +
  viridis::scale_fill_viridis(discrete = T, name = " ", option = "A") +
  ggplot2::ylab("Frequ√™ncia acumulada")+
  ggplot2::xlab("")+
  ggplot2::scale_y_continuous(labels = function(x) format(x, scientific = F))+
  ggplot2::theme_bw(base_size=20)+
  ggplot2::theme(panel.border     = ggplot2::element_blank(),
                 panel.background = ggplot2::element_blank(),
                 legend.position  = c(0.2, 0.65),
                 axis.text        = ggplot2::element_text(size=12),
                 axis.title       = ggplot2::element_text(size=15))
 
fig
```

### **<span style="color:#0A780AE6">RECUPERADOS</span>**

```{r}
fig <- df_mpaises %>% 
  ggplot2::ggplot(ggplot2::aes(x = date, 
                               y = recovered_cum, 
                               fill = Country.Region)) +
  ggplot2::geom_area(alpha=0.7 , size=.7, colour="black") +
  viridis::scale_fill_viridis(discrete = T, name = " ", option = "A") +
  ggplot2::ylab("")+
  ggplot2::xlab("")+
  ggplot2::scale_y_continuous(labels = function(x) format(x, scientific = F))+
  ggplot2::theme_bw(base_size=20)+
  ggplot2::theme(panel.border     = ggplot2::element_blank(),
                 panel.background = ggplot2::element_blank(),
                 legend.position  = c(0.2, 0.65),
                 axis.text        = ggplot2::element_text(size=12),
                 axis.title       = ggplot2::element_text(size=15))
 
fig
```

### **<span style="color:#DC2828E6">MORTES</span>**

```{r}
fig <- df_mpaises %>% 
  ggplot2::ggplot(ggplot2::aes(x = date, 
                               y = death_cum, 
                               fill = Country.Region)) +
  ggplot2::geom_area(alpha=0.7 , size=.7, colour="black") +
  viridis::scale_fill_viridis(discrete = T, name = " ", option = "A") +
  ggplot2::ylab("")+
  ggplot2::xlab("")+
  ggplot2::scale_y_continuous(labels = function(x) format(x, scientific = F))+
  ggplot2::theme_bw(base_size=20)+
  ggplot2::theme(panel.border     = ggplot2::element_blank(),
                 panel.background = ggplot2::element_blank(),
                 legend.position  = c(0.2, 0.65),
                 axis.text        = ggplot2::element_text(size=12),
                 axis.title       = ggplot2::element_text(size=15))
 
fig
```

Am√©rica do Sul {data-orientation=rows data-navmenu="Mundo"}
================================================================================

Row {data-height=600}
--------------------------------------------------------------------------------

### 

```{r}
country_sa <- df$Country.Region[df$Country.Region%in%c("Argentina", "Bolivia",
                                                       "Brazil", "Chile",
                                                       "Colombia", "Ecuador",
                                                       "Guyana", "Paraguay",
                                                       "Peru", "Suriname",
                                                       "Uruguay", "Venezuela")]

tot.SA <- df_pais %>% 
  dplyr::ungroup() %>% 
  dplyr::filter(Country.Region %in% country_sa) %>% 
  dplyr::summarise(con = sum(confirmed),
                   rec = sum(recovered),
                   dea = sum(death))

dfshow <- df_pais %>% 
  dplyr::filter(Country.Region %in% country_sa) %>%
  dplyr::summarise(Confirmados = sum(confirmed),
                   Recuperados = sum(recovered),
                   Mortes = sum(death)) %>% 
  dplyr::arrange(-Confirmados) %>% 
  dplyr::group_by(Country.Region) %>% 
  dplyr::mutate(
    `Taxa de<br>Recupera√ß√£o` = 
        paste0(
          format(
            round(100*Recuperados/Confirmados, 1),
            decimal.mark = ",", big.mark = "."
          ),
          "%"
        ),
    `Taxa de<br>Mortalidade` = 
      paste0(
        format(
          round(100*Mortes/Confirmados, 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ),
    `%C` = 
      paste0(
        format(
          round(100*Confirmados/tot.SA$con, 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ),
    `%R` = 
      paste0(
        format(
          round(100*Recuperados/tot.SA$rec, 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ),      
    `%M` = 
      paste0(
        format(
          round(100*Mortes/tot.SA$dea, 1),
          decimal.mark = ",", big.mark = "."
        ),
        "%"
      ), 
  ) %>% 
  dplyr::select(1, 2, 3, 5, 4, 6)

dfshow$Country.Region <- factor(dfshow$Country.Region, 
                                levels = as.character(country_sa))
names(dfshow)[1] <- "Pa√≠s/Regi√£o"

sketch <- htmltools::withTags(
  table(
    DT::tableHeader(c(" ",colnames(dfshow)),# " " for rownames=T works properly
                    escape = F),# escape = F for html code
    DT::tableFooter(
      list("", "Total", # " " for rownames=T works properly
           tot.SA$con, #"100%",
           tot.SA$rec, #"100%",
           paste0(
             format(
               round(100*tot.SA$rec/tot.SA$con, 1),
               decimal.mark = ","),
             "%"),
           tot.SA$dea,# "100%",
           paste0(
             format(
               round(100*tot.SA$dea/tot.SA$con, 1), 
               decimal.mark = ","),
             "%")
      )
    )
  )
)

DT::datatable(dfshow, 
              options = list(
                dom = "t",
                columnDefs = list(list(className = 'dt-center', 
                                       targets = "_all")),
                lengthChange = FALSE,
                pageLength = 13
              ),
              escape = F,
              container = sketch,
)  
  # DT::formatStyle(c(2, 3), backgroundColor = confirmed_colorTT) %>% 
  # DT::formatStyle(c(4, 5, 6), backgroundColor = recovered_colorTT) %>% 
  # DT::formatStyle(c(7, 8, 9), backgroundColor = death_colorTT)
  # DT::formatStyle("Pa√≠s/Regi√£o", target = "row",
  #                 backgroundColor = DT::styleEqual(
  #                   rev(dfshow$`Pa√≠s/Regi√£o`[1:m]),
  #                   viridis::viridis(4, option = "E", alpha = .4)))
```

> Legenda: 
Taxa de recupera√ß√£o $= \frac{Recuperados}{Confirmados}$,
Taxa de mortalidade $= \frac{Mortes}{Confirmados}$.

Row {data-height=300}
-------------------------

###

```{r}
plotly::plot_ly(data = dfshow, 
                x = ~ `Pa√≠s/Regi√£o`, 
                y = ~ Confirmados, 
                type = "bar", 
                name = "Confirmados",
                marker = list(color = confirmed_colorT)) %>%
  plotly::add_trace(y = ~ Recuperados, 
                    name = "Recuperados",
                    marker = list(color = recovered_colorT)) %>%
  plotly::add_trace(y = ~ Mortes, 
                    name = "Mortes",
                    marker = list(color = death_colorT)) %>%
  plotly::layout(barmode = 'group',
                 yaxis = list(title = "N√∫mero de casos"),
                 xaxis = list(title = ""),
                 legend = list(x = 0.8, y = 0.9),
                 hovermode = "compare")
```

Row {data-height=350}
-------------------------

<!-- ___________________________________________________________________________
                                               Chart Stacked area America do Sul
____________________________________________________________________________ -->

### **<span style="color: #1478BE;">CONFIRMADOS</span>**

```{r}
m <- 4

country_sa <- df$Country.Region[df$Country.Region%in%c("Argentina", "Bolivia",
                                                       "Brazil", "Chile",
                                                       "Colombia", "Ecuador",
                                                       "Guyana", "Paraguay",
                                                       "Peru", "Suriname",
                                                       "Uruguay", "Venezuela")]

df_samerica <- df_pais %>% 
  dplyr::filter(Country.Region %in% country_sa[1:m]) %>%
  dplyr::filter(date >= "2020-03-02") %>% 
  dplyr::arrange(date)

df_samerica$Country.Region <- factor(df_samerica$Country.Region, 
                                    levels = rev(country_sa[1:m]))


fig <- df_samerica %>% 
  ggplot2::ggplot(ggplot2::aes(x = date, 
                               y = confirmed_cum, 
                               fill = Country.Region)) +
  ggplot2::geom_area(alpha=0.7 , size=.7, colour="black") +
  viridis::scale_fill_viridis(discrete = T, name = " ", option = "E") +
  ggplot2::ylab("Frequ√™ncia acumulada")+
  ggplot2::xlab("")+
  ggplot2::scale_y_continuous(labels = function(x) format(x, scientific = F))+
  ggplot2::theme_bw(base_size=20)+
  ggplot2::theme(panel.border     = ggplot2::element_blank(),
                 panel.background = ggplot2::element_blank(),
                 legend.position  = c(0.2, 0.65),
                 axis.text        = ggplot2::element_text(size=12),
                 axis.title       = ggplot2::element_text(size=15))
 
fig
```

### **<span style="color:#0A780AE6">RECUPERADOS</span>**

```{r}
fig <- df_samerica %>% 
  ggplot2::ggplot(ggplot2::aes(x = date, 
                               y = recovered_cum, 
                               fill = Country.Region)) +
  ggplot2::geom_area(alpha=0.7 , size=.7, colour="black") +
  viridis::scale_fill_viridis(discrete = T, name = " ", option = "E") +
  ggplot2::ylab("")+
  ggplot2::xlab("")+
  ggplot2::scale_y_continuous(labels = function(x) format(x, scientific = F))+
  ggplot2::theme_bw(base_size=20)+
  ggplot2::theme(panel.border     = ggplot2::element_blank(),
                 panel.background = ggplot2::element_blank(),
                 legend.position  = c(0.2, 0.65),
                 axis.text        = ggplot2::element_text(size=12),
                 axis.title       = ggplot2::element_text(size=15))
 
fig
```

### **<span style="color:#DC2828E6">MORTES</span>**

```{r}
fig <- df_samerica %>% 
  ggplot2::ggplot(ggplot2::aes(x = date, 
                               y = death_cum, 
                               fill = Country.Region)) +
  ggplot2::geom_area(alpha=0.7 , size=.7, colour="black") +
  viridis::scale_fill_viridis(discrete = T, name = " ", option = "E") +
  ggplot2::ylab("")+
  ggplot2::xlab("")+
  ggplot2::scale_y_continuous(labels = function(x) format(x, scientific = F))+
  ggplot2::theme_bw(base_size=20)+
  ggplot2::theme(panel.border     = ggplot2::element_blank(),
                 panel.background = ggplot2::element_blank(),
                 legend.position  = c(0.2, 0.65),
                 axis.text        = ggplot2::element_text(size=12),
                 axis.title       = ggplot2::element_text(size=15))
 
fig
```





Compare 
=====================================================================

Column {data-width=500}
-------------------------------------

### **Evolu√ß√£o dos CONFIRMADOS desde `r as.character.POSIXt(min(coronavirus$date), format = "%d/%m/%Y")`**

```{r}
country <- c(as.character(df$Country.Region[1:5]))
n <- 5
fig1 <- plotly::plot_ly()
for(i in 1:n) {
  aux.df <- df_pais %>%
    dplyr::filter(Country.Region == country[i])
  fig1 <- plotly::add_trace(fig1,
                            data = aux.df,
                            x = ~date,
                            y = ~confirmed_cum,
                            type = "scatter",
                            mode = "lines+markers",
                            name = country[i],
                            showlegend = T,
                            marker = list(symbol = "circle-open"),
                            line = list(width = 1))
}
aux.df <- df_pais %>%
  dplyr::filter(Country.Region == "Brazil")
fig1 <- plotly::add_trace(fig1,
                          data = aux.df,
                          x = ~date,
                          y = ~confirmed_cum,
                          type = "scatter",
                          mode = "lines+markers",
                          name = "Brazil",
                          showlegend = T,
                          marker = list(symbol = "circle-open"),
                          line = list(width = 1))
fig1 <- plotly::layout(fig1,
                       title = "",
                       yaxis = list(title = "Frequ√™ncia acumulada"),
                       xaxis = list(title = "Data"),
                       legend = list(x=0.1, y=0.9),
                       hovermode = "compare")
fig1
```


Column {data-width=500}
-------------------------------------

### **Evolu√ß√£o desde o dia do 500¬∫ CONFIRMADO **
```{r}
df_pais_500 <- df_pais %>%
  dplyr::group_by(Country.Region) %>%
  dplyr::filter(date >= min(lubridate::ymd(date[confirmed_cum>=500]))) %>%
  dplyr::mutate(dia=1:sum(date>=min(lubridate::ymd(date[confirmed_cum>=500]))))
fig2 <- plotly::plot_ly()
for(i in 1:n) {
  aux.df <- df_pais_500 %>%
    dplyr::filter(Country.Region == country[i])
  fig2 <- plotly::add_trace(fig2,
                            data = aux.df,
                            x = ~dia,
                            y = ~confirmed_cum,
                            type = "scatter",
                            mode = "lines+markers",
                            name = country[i],
                            showlegend = F,
                            marker = list(symbol = "circle-open"),
                            line = list(width = 1))
}
aux.df <- df_pais_500 %>%
  dplyr::filter(Country.Region == "Brazil")
fig2 <- plotly::add_trace(fig2,
                          data = aux.df,
                          x = ~dia,
                          y = ~confirmed_cum,
                          type = "scatter",
                          mode = "lines+markers",
                          name = "Brazil",
                          showlegend = F,
                          marker = list(symbol = "circle-open"),
                          line = list(width = 1))
fig2 <- plotly::layout(fig2,
                       title = "",
                       yaxis = list(title = 
                                      "Frequ√™ncia acumulada de CONFIRMADOS"),
                       xaxis = list(title = "Dia ap√≥s o 500¬∫ caso CONFIRMADO"),
                       legend = list(x=0.1, y=0.9),
                       hovermode = "compare")
fig2
```
Column {data-width=500}
-------------------------------------
### **Situa√ß√£o atual dos casos**

```{r}
country <- c(as.character(df$Country.Region[1:5]), "Brazil")
# creating a dataset with selected countries, in max(date)
aux.df <- df_pais %>%
  dplyr::filter(Country.Region %in% country, date == max(date)) %>%
  dplyr::arrange(-confirmed_cum) %>%
  dplyr::ungroup() %>%
  dplyr::mutate(Country.Region = as.character(Country.Region))
# ordering the factor by confirmed_cum size
aux.df$Country.Region <- factor(aux.df$Country.Region,
                                levels = aux.df$Country.Region)
# bar plotly
fig <- plotly::plot_ly()
fig <- plotly::add_trace(fig,
                         data = aux.df,
                         x = ~Country.Region,
                         y = ~confirmed_cum,
                         type = "bar",
                         name = "Confirmados",
                         marker = list(color = confirmed_color))
fig <- plotly::add_trace(fig,
                         data = aux.df,
                         x = ~Country.Region,
                         y = ~recovered_cum,
                         type = "bar",
                         name = "Recuperados",
                         marker = list(color = recovered_color))
fig <- plotly::add_trace(fig,
                         data = aux.df,
                         x = ~Country.Region,
                         y = ~death_cum,
                         type = "bar",
                         name = "Mortes",
                         marker = list(color = death_color))
fig <- plotly::layout(fig,
                      #barmode = 'overlay',
                      yaxis = list(title = "N√∫mero de casos"),
                      xaxis = list(title = "Pa√≠s/Regi√£o"),
                      legend = list(x = 0.9, y = 0.9),
                      hovermode = "compare")
fig
```





Mapa
=======================================================================

### **Mapa mundi**

```{r}
library(leaflet)
library(leafpop)
library(purrr)
cv_data_for_plot <- coronavirus %>%
  dplyr::filter(cases > 0) %>%
  dplyr::group_by(Country.Region, Province.State, Lat, Long, type) %>%
  dplyr::summarise(cases = sum(cases)) %>%
  dplyr::mutate(log_cases = 2 * log(cases)) %>%
  dplyr::ungroup()
cv_data_for_plot.split <- cv_data_for_plot %>% split(cv_data_for_plot$type)
pal <- colorFactor(c("orange", "red", "green"), domain = c("confirmed", "death", "recovered"))
map_object <- leaflet() %>% addProviderTiles(providers$Stamen.Toner)
names(cv_data_for_plot.split) %>%
  purrr::walk(function(df) {
    map_object <<- map_object %>%
      addCircleMarkers(
        data = cv_data_for_plot.split[[df]],
        lng = ~Long, lat = ~Lat,
        #                 label=~as.character(cases),
        color = ~ pal(type),
        stroke = FALSE,
        fillOpacity = 0.8,
        radius = ~log_cases,
        popup = leafpop::popupTable(cv_data_for_plot.split[[df]],
                                    feature.id = FALSE,
                                    row.numbers = FALSE,
                                    zcol = c("type", "cases", "Country.Region", "Province.State")
        ),
        group = df,
        #                 clusterOptions = markerClusterOptions(removeOutsideVisibleBounds = F),
        labelOptions = labelOptions(
          noHide = F,
          direction = "auto"
        )
      )
  })
map_object %>%
  addLayersControl(
    overlayGroups = names(cv_data_for_plot.split),
    options = layersControlOptions(collapsed = FALSE)
  )
```




Mais
=======================

Para visualiza√ß√µes interativas acesse https://grequena.shinyapps.io/coronavirusBR






Sobre
=======================================================================

**Dashboard para acompanhamento dos casos de COVID-19 no Brasil**

Essa dashboard fornece uma descri√ß√£o estat√≠stica sobre a evolu√ß√£o de casos do Novo Coronav√≠rus (COVID-19) no Brasil e no mundo.

Sua constru√ß√£o foi feita no R atrav√©s do R Markdown por meio do pacote [`flexdashboard`](https://rmarkdown.rstudio.com/flexdashboard/){target="_blank"}.

Sua primeira vers√£o √© uma adapta√ß√£o dessa [dashboard](https://ramikrispin.github.io/coronavirus_dashboard/){target="_blank"} por Rami Krispin.

**C√≥digo**
O c√≥digo-fonte pode ser acessado no canto superior direito no bot√£o `</> Source Code`.

**Dados**
Os bancos de dados utilizados s√£o fornecidos pela Johns Hopkins University Center for Systems Science and Engineering (JHU CCSE), mantidos neste [reposit√≥rio](https://github.com/CSSEGISandData/COVID-19) do github.
O portal oficial do Minist√©rio da Sa√∫de com os n√∫meros de casos confirmados e √≥bitos no Brasil pode ser visto [aqui](https://covid.saude.gov.br/).

**Contato**
Para quaisquer d√∫vidas ou sugest√µes, voc√™ pode nos contatar atrav√©s do e-mail requena@ufv.br.

**Atualiza√ß√£o**
√öltima atualiza√ß√£o:  `r as.character.POSIXt(Sys.time(), 
format = "%d/%m/%Y")`.
